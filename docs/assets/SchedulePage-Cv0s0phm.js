import{c as Ke,n as A,h as T,R as Et,C as mt,T as Ht,U as Ot,V as Rt,W as jt,X as zt,Y as gt,v as Wt,Z as Kt,r as h,_ as Yt,$ as Gt,G as Me,a0 as Xt,i as pe,a1 as Le,a2 as yt,A as Zt,a3 as G,a4 as Jt,a5 as ea,a6 as ta,a7 as aa,a8 as sa,o as na,a as j,b as c,w as u,d as l,e as i,j as f,k as ot,f as B,l as _,Q as Ie,g as we,t as y,a9 as K,m as ae,aa as Y,ab as se,ac as $e,ad as Ve,ae as la,af as oa,ag as ia,ah as ra}from"./index-Dxl-uXha.js";import{Q as We,a as de,b as X,c as P,v as da,d as ua,e as He,f as Oe,g as ca,h as it}from"./v4-DCIweUpn.js";import{Q as ma}from"./QSpace-Bvq1_5s9.js";import{Q as ga}from"./QPage-BgJOUcRg.js";import{u as ya}from"./use-quasar-BW4g1j-D.js";const va=["top","middle","bottom"],rt=Ke({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:s=>va.includes(s)}},setup(s,{slots:o}){const b=A(()=>s.align!==void 0?{verticalAlign:s.align}:null),v=A(()=>{const D=s.outline===!0&&s.color||s.textColor;return`q-badge flex inline items-center no-wrap q-badge--${s.multiLine===!0?"multi":"single"}-line`+(s.outline===!0?" q-badge--outline":s.color!==void 0?` bg-${s.color}`:"")+(D!==void 0?` text-${D}`:"")+(s.floating===!0?" q-badge--floating":"")+(s.rounded===!0?" q-badge--rounded":"")+(s.transparent===!0?" q-badge--transparent":"")});return()=>T("div",{class:v.value,style:b.value,role:"status","aria-label":s.label},Et(o.default,s.label!==void 0?[s.label]:[]))}}),pa=Ke({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(s,{slots:o,emit:b}){let v=!1,D,w,x=null,S=null,C,U;function E(){D?.(),D=null,v=!1,x!==null&&(clearTimeout(x),x=null),S!==null&&(clearTimeout(S),S=null),w?.removeEventListener("transitionend",C),C=null}function F(g,I,M){I!==void 0&&(g.style.height=`${I}px`),g.style.transition=`height ${s.duration}ms cubic-bezier(.25, .8, .50, 1)`,v=!0,D=M}function z(g,I){g.style.overflowY=null,g.style.height=null,g.style.transition=null,E(),I!==U&&b(I)}function ue(g,I){let M=0;w=g,v===!0?(E(),M=g.offsetHeight===g.scrollHeight?0:void 0):(U="hide",g.style.overflowY="hidden"),F(g,M,I),x=setTimeout(()=>{x=null,g.style.height=`${g.scrollHeight}px`,C=N=>{S=null,(Object(N)!==N||N.target===g)&&z(g,"show")},g.addEventListener("transitionend",C),S=setTimeout(C,s.duration*1.1)},100)}function ce(g,I){let M;w=g,v===!0?E():(U="show",g.style.overflowY="hidden",M=g.scrollHeight),F(g,M,I),x=setTimeout(()=>{x=null,g.style.height=0,C=N=>{S=null,(Object(N)!==N||N.target===g)&&z(g,"hide")},g.addEventListener("transitionend",C),S=setTimeout(C,s.duration*1.1)},100)}return mt(()=>{v===!0&&E()}),()=>T(Ht,{css:!1,appear:s.appear,onEnter:ue,onLeave:ce},o.default)}}),re=Ot({}),fa=Object.keys(gt),dt=Ke({name:"QExpansionItem",props:{...gt,...zt,...jt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Rt,"click","afterShow","afterHide"],setup(s,{slots:o,emit:b}){const{proxy:{$q:v}}=Wt(),D=Kt(s,v),w=h(s.modelValue!==null?s.modelValue:s.defaultOpened),x=h(null),S=Yt(),{show:C,hide:U,toggle:E}=Gt({showing:w});let F,z;const ue=A(()=>`q-expansion-item q-item-type q-expansion-item--${w.value===!0?"expanded":"collapsed"} q-expansion-item--${s.popup===!0?"popup":"standard"}`),ce=A(()=>s.contentInsetLevel===void 0?null:{["padding"+(v.lang.rtl===!0?"Right":"Left")]:s.contentInsetLevel*56+"px"}),g=A(()=>s.disable!==!0&&(s.href!==void 0||s.to!==void 0&&s.to!==null&&s.to!=="")),I=A(()=>{const m={};return fa.forEach(H=>{m[H]=s[H]}),m}),M=A(()=>g.value===!0||s.expandIconToggle!==!0),N=A(()=>s.expandedIcon!==void 0&&w.value===!0?s.expandedIcon:s.expandIcon||v.iconSet.expansionItem[s.denseToggle===!0?"denseIcon":"icon"]),fe=A(()=>s.disable!==!0&&(g.value===!0||s.expandIconToggle===!0)),W=A(()=>({expanded:w.value===!0,detailsId:S.value,toggle:E,show:C,hide:U})),Z=A(()=>{const m=s.toggleAriaLabel!==void 0?s.toggleAriaLabel:v.lang.label[w.value===!0?"collapse":"expand"](s.label);return{role:"button","aria-expanded":w.value===!0?"true":"false","aria-controls":S.value,"aria-label":m}});Me(()=>s.group,m=>{z?.(),m!==void 0&&L()});function Q(m){g.value!==!0&&E(m),b("click",m)}function ie(m){m.keyCode===13&&J(m,!0)}function J(m,H){H!==!0&&m.qAvoidFocus!==!0&&x.value?.focus(),E(m),Jt(m)}function me(){b("afterShow")}function _e(){b("afterHide")}function L(){F===void 0&&(F=Xt()),w.value===!0&&(re[s.group]=F);const m=Me(w,$=>{$===!0?re[s.group]=F:re[s.group]===F&&delete re[s.group]}),H=Me(()=>re[s.group],($,Pe)=>{Pe===F&&$!==void 0&&$!==F&&U()});z=()=>{m(),H(),re[s.group]===F&&delete re[s.group],z=void 0}}function Ae(){const m={class:[`q-focusable relative-position cursor-pointer${s.denseToggle===!0&&s.switchToggleSide===!0?" items-end":""}`,s.expandIconClass],side:s.switchToggleSide!==!0,avatar:s.switchToggleSide},H=[T(G,{class:"q-expansion-item__toggle-icon"+(s.expandedIcon===void 0&&w.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:N.value})];return fe.value===!0&&(Object.assign(m,{tabindex:0,...Z.value,onClick:J,onKeyup:ie}),H.unshift(T("div",{ref:x,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),T(X,m,()=>H)}function he(){let m;return o.header!==void 0?m=[].concat(o.header(W.value)):(m=[T(X,()=>[T(de,{lines:s.labelLines},()=>s.label||""),s.caption?T(de,{lines:s.captionLines,caption:!0},()=>s.caption):null])],s.icon&&m[s.switchToggleSide===!0?"push":"unshift"](T(X,{side:s.switchToggleSide===!0,avatar:s.switchToggleSide!==!0},()=>T(G,{name:s.icon})))),s.disable!==!0&&s.hideExpandIcon!==!0&&m[s.switchToggleSide===!0?"unshift":"push"](Ae()),m}function Ne(){const m={ref:"item",style:s.headerStyle,class:s.headerClass,dark:D.value,disable:s.disable,dense:s.dense,insetLevel:s.headerInsetLevel};return M.value===!0&&(m.clickable=!0,m.onClick=Q,Object.assign(m,g.value===!0?I.value:Z.value)),T(We,m,he)}function xe(){return Le(T("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:ce.value,id:S.value},Zt(o.default)),[[yt,w.value]])}function ee(){const m=[Ne(),T(pa,{duration:s.duration,onShow:me,onHide:_e},xe)];return s.expandSeparator===!0&&m.push(T(pe,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:D.value}),T(pe,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:D.value})),m}return s.group!==void 0&&L(),mt(()=>{z?.()}),()=>T("div",{class:ue.value},[T("div",{class:"q-expansion-item__container relative-position"},ee())])}});function ut(s){if(s===!1)return 0;if(s===!0||s===void 0)return 1;const o=parseInt(s,10);return isNaN(o)?0:o}const ct=ea({name:"close-popup",beforeMount(s,{value:o}){const b={depth:ut(o),handler(v){b.depth!==0&&setTimeout(()=>{const D=aa(s);D!==void 0&&sa(D,v,b.depth)})},handlerKey(v){ta(v,13)===!0&&b.handler(v)}};s.__qclosepopup=b,s.addEventListener("click",b.handler),s.addEventListener("keyup",b.handlerKey)},updated(s,{value:o,oldValue:b}){o!==b&&(s.__qclosepopup.depth=ut(o))},beforeUnmount(s){const o=s.__qclosepopup;s.removeEventListener("click",o.handler),s.removeEventListener("keyup",o.handlerKey),delete s.__qclosepopup}}),De="/api/beers",ne={async getAll(){return(await P.get(De)).data.beers||[]},async getById(s){return(await P.get(`${De}/${s}`)).data.beer},async create(s){const o={beer_template_id:s.beer_template_id,name:s.name,batch_id:s.batch_id,volume_hl:s.volume_hl,priority:s.priority,min_fermentation_days:s.min_fermentation_days,min_maturation_days:s.min_maturation_days,target_start_date:s.target_start_date,target_completion_date:s.target_completion_date};await P.post(De,o)},async update(s,o){const b={beer_id:o.beer_id,beer_template_id:o.beer_template_id||null,name:o.name,batch_id:o.batch_id||null,volume_hl:o.volume_hl,priority:o.priority,min_fermentation_days:o.min_fermentation_days,min_maturation_days:o.min_maturation_days||0,target_start_date:o.target_start_date||null,target_completion_date:o.target_completion_date||null,requires_canning:o.requires_canning||!1,tasks:o.tasks||[]};await P.put(`${De}/${s}`,b)},async delete(s){await P.delete(`${De}/${s}`)}},Re="/api/canning-days",je={async getAll(){return(await P.get(Re)).data.canning_days||[]},async create(s){await P.post(Re,{canning_day:s})},async delete(s){await P.delete(`${Re}/${s}`)}},Fe="/api/tasks",ze={async getById(s){return(await P.get(`${Fe}/${s}`)).data.task},async create(s){const o=da();return(await P.post(Fe,{task_id:o,...s,locked:!0})).data},async delete(s){await P.delete(`${Fe}/${s}`)},async adjustDuration(s,o){return(await P.put(`${Fe}/${s}/duration/${o}`)).data.tasks||[]}},_a=(s,o)=>{const b=s.__vccOpts||s;for(const[v,D]of o)b[v]=D;return b},ha={class:"row no-wrap",style:{height:"100%"}},ba={class:"col-3 q-pa-md",style:{"border-right":"1px solid #e0e0e0","overflow-y":"auto"}},ka={key:0,class:"flex flex-center q-pa-md"},wa={key:1},Da={class:"text-subtitle2 text-primary"},xa={class:"text-caption"},Sa={class:"row q-gutter-sm q-mb-md"},qa={key:1,class:"canning-days-list q-mb-md"},Ta={key:2,class:"text-grey-6 text-center q-pa-sm"},Ba={class:"row items-center justify-between q-mb-md"},Ca={key:3,class:"flex flex-center q-pa-md"},Ia={class:"row items-center q-gutter-xs"},$a={class:"row items-center justify-between q-mb-sm"},Va={class:"beer-details"},Fa={class:"detail-row"},Ma={class:"detail-row"},La={class:"detail-row"},Aa={class:"detail-row"},Na={class:"detail-row"},Pa={class:"detail-row"},Qa={class:"detail-row"},Ua={key:0,class:"q-mt-md"},Ea={class:"row items-center justify-between q-mb-sm"},Ha={class:"task-type-label"},Oa={key:5,class:"text-center text-grey-7 q-pa-md"},Ra={class:"col-9 q-pa-md"},ja={class:"row items-center justify-between q-mb-md"},za={class:"row items-center q-gutter-sm"},Wa={class:"text-h6"},Ka={class:"schedule-table-container"},Ya={class:"schedule-table"},Ga={class:"date-label"},Xa=["onClick"],Za={key:0,class:"task-info"},Ja={class:"task-name"},es={key:0,class:"batch-id"},ts={class:"task-type"},as=["onClick"],ss={key:0,class:"task-info"},ns={class:"task-name"},ls={key:0,class:"batch-id"},os={class:"task-type"},is={class:"text-h6 text-negative"},rs={class:"text-subtitle1 q-mb-md"},ds={key:0,class:"q-mb-md"},us={class:"text-weight-medium q-mb-sm"},cs={key:1,class:"q-mb-md"},ms={class:"text-weight-medium q-mb-sm"},gs={class:"text-body2 q-ml-md"},ys={key:2},vs={class:"text-weight-medium q-mb-sm"},ps={key:0,class:"q-mb-sm"},fs={class:"beer-diagnostic-details"},_s={class:"row q-col-gutter-sm"},hs={class:"col-6"},bs={class:"col-6"},ks={class:"col-6"},ws={class:"col-6"},Ds={class:"col-6"},xs={key:0,class:"col-6"},Ss={key:1,class:"col-6"},qs={class:"q-mt-md text-caption text-grey-7"},Ts={__name:"SchedulePage",setup(s){const o=ya(),b=h([]),v=h(null),D=h(""),w=h(null),x=h(null),S=h(2),C=h(null),U=h(null),E=h(null),F=h(null),z=h(null),ue=h(null),ce=h(null),g=h(null),I=h(!1),M=h(!1),N=h(!1),fe=h(!1),W=h(new Date),Z=h([]),Q=h([]),ie=h([]),J=h(null),me=h(!1),_e=h(!1),L=h(null),Ae=["F6","F5","F4","F3","F2","F1","B1","B2"];Me(v,a=>{a?(w.value=a.min_fermentation_days,x.value=a.min_maturation_days):(w.value=null,x.value=null)});const he=A(()=>Z.value.length===0?!1:Z.value.some(a=>{const t=a.tasks||[];return t.length===0?!0:!t.every(e=>e.locked)})),Ne=A(()=>{const a=new Date(W.value),t=new Date(W.value);return t.setDate(t.getDate()+29),`${a.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}),xe=A(()=>{const a=[],t=new Date;t.setHours(0,0,0,0);for(let e=0;e<30;e++){const n=new Date(W.value);n.setDate(n.getDate()+e),n.setHours(0,0,0,0);const r=ee(n),d=n.getTime()===t.getTime(),k=n.getDay()===0||n.getDay()===6,te=m(n);a.push({date:r,label:n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),isToday:d,isWeekend:k,isHoliday:te,fullDate:new Date(n)})}return a}),ee=a=>{const t=a.getFullYear(),e=String(a.getMonth()+1).padStart(2,"0"),n=String(a.getDate()).padStart(2,"0");return`${t}-${e}-${n}`},m=a=>{const t=a.getFullYear(),e=a.getMonth()+1,n=a.getDate();if(e===1&&n===1||e===1&&n===26||e===4&&n===25||e===12&&n===25||e===12&&n===26)return!0;if(e===5){const r=new Date(t,4,1);for(;r.getDay()!==1;)r.setDate(r.getDate()+1);if(n===r.getDate())return!0}if(e===6){const r=new Date(t,5,1);for(;r.getDay()!==1;)r.setDate(r.getDate()+1);const d=new Date(r);if(d.setDate(d.getDate()+7),n===d.getDate())return!0}if(e===8){const r=new Date(t,7,1);for(;r.getDay()!==3;)r.setDate(r.getDate()+1);const d=new Date(r);if(d.setDate(d.getDate()+14),n===d.getDate())return!0}return!1},H=async()=>{I.value=!0;try{b.value=await ua.getAll()}catch(a){o.notify({type:"negative",message:"Failed to load beer templates",caption:a.response?.data?.message||a.message})}finally{I.value=!1}},$=async()=>{N.value=!0;try{const a=await ne.getAll();Z.value=a;const t=[];for(const e of a)e.tasks&&Array.isArray(e.tasks)&&t.push(...e.tasks);Q.value=t}catch(a){o.notify({type:"negative",message:"Failed to load beers",caption:a.response?.data?.message||a.message})}finally{N.value=!1}},Pe=async()=>{if(!(!v.value||!D.value||w.value===null||x.value===null||S.value===null)){M.value=!0;try{const a={beer_template_id:v.value.beer_template_id,name:v.value.beer_name,batch_id:D.value,volume_hl:v.value.volume_hl,priority:S.value,min_fermentation_days:w.value,min_maturation_days:x.value,target_start_date:C.value||null,target_completion_date:U.value||null};await ne.create(a),o.notify({type:"positive",message:"Beer created successfully",caption:`${a.name} ${a.batch_id}`,icon:"local_drink"}),v.value=null,D.value="",w.value=null,x.value=null,S.value=2,C.value=null,U.value=null,E.value?.resetValidation(),F.value?.resetValidation(),z.value?.resetValidation(),ue.value?.resetValidation(),ce.value?.resetValidation(),g.value?.resetValidation(),await $(),await O()}catch(a){o.notify({type:"negative",message:"Failed to create beer",caption:a.response?.data?.message||a.message})}finally{M.value=!1}}},Se=[[229,57,53],[30,136,229],[67,160,71],[251,140,0],[142,36,170],[0,172,193],[255,179,0],[109,76,65],[216,27,96],[57,73,171],[0,137,123],[124,179,66],[244,81,30],[94,53,177],[3,155,229],[192,202,51]],le=new Map,Ye=(a,t=!1)=>{if(!le.has(a)){const te=le.size%Se.length;le.set(a,te)}const e=le.get(a),[n,r,d]=Se[e];return`rgba(${n}, ${r}, ${d}, ${t?.4:.2})`},Ge=a=>{if(!le.has(a)){const d=le.size%Se.length;le.set(a,d)}const t=le.get(a),[e,n,r]=Se[t];return`rgb(${e}, ${n}, ${r})`},vt=a=>{const t=Te(a),e={backgroundColor:Ye(a,t)};return t&&(e.border=`2px solid ${Ge(a)}`),e},Xe=(a,t)=>{const e=q(a.date,t);if(e.length===0)return{};const n=e[0],r={backgroundColor:Ye(n.beer_id,n.locked)};if(n.locked){const d=Qe(a.date,n),k=Ge(n.beer_id);d.isSingle?r.border=`2px solid ${k}`:(r.borderLeft=`2px solid ${k}`,r.borderRight=`2px solid ${k}`,d.isFirst&&(r.borderTop=`2px solid ${k}`),d.isLast&&(r.borderBottom=`2px solid ${k}`))}return r},pt=(a,t)=>{const e=[];for(let n=a;n<=t;n++){e.push(`${n}-01-01`),e.push(`${n}-01-26`),e.push(`${n}-04-25`),e.push(`${n}-12-25`),e.push(`${n}-12-26`);const r=n%19,d=Math.floor(n/100),k=n%100,te=Math.floor(d/4),ge=d%4,ye=Math.floor((d+8)/25),be=Math.floor((d-ye+1)/3),oe=(19*r+d-te-be+15)%30,p=Math.floor(k/4),R=k%4,V=(32+2*ge+2*p-oe-R)%7,tt=Math.floor((r+11*oe+22*V)/451),At=Math.floor((oe+V-7*tt+114)/31),Nt=(oe+V-7*tt+114)%31+1,ve=new Date(n,At-1,Nt),at=new Date(ve);at.setDate(ve.getDate()-2);const st=new Date(ve);st.setDate(ve.getDate()-1);const nt=new Date(ve);nt.setDate(ve.getDate()+1),e.push(ee(at)),e.push(ee(st)),e.push(ee(nt));const Pt=new Date(n,4,1),Be=new Date(Pt);for(;Be.getDay()!==1;)Be.setDate(Be.getDate()+1);e.push(ee(Be));const Qt=new Date(n,9,1),ke=new Date(Qt);for(;ke.getDay()!==1;)ke.setDate(ke.getDate()+1);const lt=new Date(ke);lt.setDate(ke.getDate()+7),e.push(ee(lt));const Ee=new Date(n,7,10),Ce=new Date(Ee),Ut=(3-Ee.getDay()+7)%7;Ce.setDate(Ee.getDate()+Ut),Ce.getDate()>=10&&Ce.getDate()<=16&&e.push(ee(Ce))}return e},O=async()=>{if(he.value){fe.value=!0;try{const a=new Date;a.setHours(0,0,0,0);const t=p=>{const R=new Date(p);R.setHours(0,0,0,0);const V=R.getTime()-a.getTime();return Math.floor(V/(1e3*60*60*24))},e=p=>p?t(p):null,n=[],r=[],d=[];for(const p of Z.value){const R=(p.tasks||[]).filter(V=>V.locked);if(R.length>0){n.push(p);for(const V of R)d.push({resource:V.resource,start_day:V.start_day,end_day:V.end_day})}else r.push({id:p.beer_id,name:p.name,volume_hl:p.volume_hl,priority:p.priority,min_fermentation_days:p.min_fermentation_days,min_maturation_days:p.min_maturation_days||0,requires_canning:p.requires_canning||!1,target_start_day:e(p.target_start_date),target_completion_day:e(p.target_completion_date),tasks:[]})}const k=new Date().getFullYear(),te=pt(k,k+1),ge={beers:r,canning_days:ie.value,non_working_days:te};d.length>0&&(ge.resource_blocks=d);const be=(await P.post("/api/schedule",ge)).data.schedule?.beers||[],oe=[];for(const p of be)if(p.tasks&&Array.isArray(p.tasks))for(const R of p.tasks)oe.push({...R,beer_id:p.beer_id,beer_name:p.name,batch_id:p.batch_id});for(const p of n){const R=(p.tasks||[]).filter(V=>V.locked);for(const V of R)oe.push({...V,beer_id:p.beer_id,beer_name:p.name,batch_id:p.batch_id})}Q.value=oe,o.notify({type:"positive",message:"Beers scheduled successfully",icon:"calendar_today"})}catch(a){console.error("Schedule error:",a);const t=a.response?.data;t?.error==="SCHEDULING_ERROR"&&t?.diagnostic?(L.value=t,_e.value=!0):o.notify({type:"negative",message:"Failed to schedule beers",caption:t?.message||a.message})}finally{fe.value=!1}}},q=(a,t)=>{const e=t.toLowerCase();return Q.value.filter(n=>{if(n.resource.toLowerCase()!==e)return!1;const r=new Date(n.start_date),d=new Date(n.end_date),k=new Date(a);return r.setHours(0,0,0,0),d.setHours(0,0,0,0),k.setHours(0,0,0,0),k>=r&&k<=d})},Qe=(a,t)=>{const e=new Date(t.start_date),n=new Date(t.end_date),r=new Date(a);e.setHours(0,0,0,0),n.setHours(0,0,0,0),r.setHours(0,0,0,0);const d=r.getTime()===e.getTime(),k=r.getTime()===n.getTime(),te=Math.round((n-e)/(1e3*60*60*24))+1,ge=Math.floor(te/2),ye=new Date(e);ye.setDate(ye.getDate()+ge);const be=r.getTime()===ye.getTime();return{isFirst:d,isLast:k,isMiddle:be,isSingle:d&&k}},Ze=(a,t)=>{const e=Qe(a,t);return e.isMiddle||e.isSingle},qe=a=>Q.value.filter(t=>t.beer_id===a),Te=a=>{const t=qe(a);return t.length===0?!1:t.every(e=>e.locked)},ft=async(a,t)=>{const e=qe(a.beer_id);if(e.length!==0)try{if(t){for(const n of e)if(!n.locked){const r=await ze.create({beer_id:a.beer_id,beer_name:a.name,task_type:n.task_type,start_day:n.start_day,start_date:n.start_date,duration:n.duration,end_day:n.end_day,end_date:n.end_date,resource:n.resource,volume_hl:a.volume_hl}),d=Q.value.findIndex(k=>k.beer_id===a.beer_id&&k.task_type===n.task_type);d!==-1&&(Q.value[d]={...Q.value[d],task_id:r.task_id,locked:!0})}o.notify({type:"positive",message:"All tasks pinned",caption:a.name,icon:"push_pin"})}else{for(const n of e)if(n.locked&&n.task_id){await ze.delete(n.task_id);const r=Q.value.findIndex(d=>d.beer_id===a.beer_id&&d.task_type===n.task_type);r!==-1&&(Q.value[r]={...Q.value[r],task_id:null,locked:!1})}o.notify({type:"positive",message:"All tasks unpinned",caption:a.name,icon:"push_pin"})}}catch(n){o.notify({type:"negative",message:t?"Failed to pin tasks":"Failed to unpin tasks",caption:n.response?.data?.message||n.message})}},Je=(a,t)=>{const e=q(a.date,t),n=e.length>0,r={today:a.isToday,weekend:a.isWeekend,holiday:a.isHoliday,"has-task":n};if(n){const d=Qe(a.date,e[0]);r["task-first"]=d.isFirst&&!d.isSingle,r["task-last"]=d.isLast&&!d.isSingle,r["task-middle"]=!d.isFirst&&!d.isLast,r["task-single"]=d.isSingle}return r},_t=a=>{o.notify({type:"info",message:`Viewing ${a.name}`,caption:"Feature coming soon..."})},et=async(a,t)=>{if(t)if(t.locked&&t.task_id&&(a.metaKey||a.ctrlKey)){const e=a.shiftKey?-1:1;try{await ze.adjustDuration(t.task_id,e),o.notify({type:"positive",message:`Task duration ${e>0?"increased":"decreased"} by 1 day`,icon:"schedule"}),await $(),await O()}catch(n){o.notify({type:"negative",message:"Failed to adjust task duration",caption:n.response?.data?.message||n.message})}}else _t(t)},ht=a=>{o.dialog({title:"Confirm Delete",message:`Are you sure you want to delete ${a.name} (${a.batch_id})?`,cancel:!0,persistent:!0}).onOk(async()=>{await bt(a.beer_id)})},bt=async a=>{try{await ne.delete(a),o.notify({type:"positive",message:"Beer deleted successfully",icon:"delete"}),await $(),await O()}catch(t){o.notify({type:"negative",message:"Failed to delete beer",caption:t.response?.data?.message||t.message})}},kt=async(a,t)=>{try{const e=Number(t);if(isNaN(e)||e<=0){o.notify({type:"negative",message:"Invalid volume",caption:"Must be greater than 0"});return}const n={...a,volume_hl:e};await ne.update(a.beer_id,n),o.notify({type:"positive",message:"Volume updated successfully",icon:"check"}),await $(),await O()}catch(e){o.notify({type:"negative",message:"Failed to update volume",caption:e.response?.data?.message||e.message})}},wt=async(a,t)=>{try{const e={...a,priority:t};await ne.update(a.beer_id,e),o.notify({type:"positive",message:"Priority updated successfully",icon:"check"}),await $(),await O()}catch(e){o.notify({type:"negative",message:"Failed to update priority",caption:e.response?.data?.message||e.message})}},Dt=async(a,t)=>{try{const e=Number(t);if(isNaN(e)||e<0){o.notify({type:"negative",message:"Invalid fermentation days",caption:"Must be 0 or greater"});return}const n={...a,min_fermentation_days:e};await ne.update(a.beer_id,n),o.notify({type:"positive",message:"Min fermentation days updated successfully",icon:"check"}),await $(),await O()}catch(e){o.notify({type:"negative",message:"Failed to update min fermentation days",caption:e.response?.data?.message||e.message})}},xt=async(a,t)=>{try{const e={...a,target_start_date:t||null};await ne.update(a.beer_id,e),o.notify({type:"positive",message:"Target start date updated successfully",icon:"check"}),await $(),await O()}catch(e){o.notify({type:"negative",message:"Failed to update target start date",caption:e.response?.data?.message||e.message})}},St=async(a,t)=>{try{const e={...a,target_completion_date:t||null};await ne.update(a.beer_id,e),o.notify({type:"positive",message:"Target completion date updated successfully",icon:"check"}),await $(),await O()}catch(e){o.notify({type:"negative",message:"Failed to update target completion date",caption:e.response?.data?.message||e.message})}},qt=async(a,t)=>{try{const e={...a,requires_canning:t};await ne.update(a.beer_id,e),o.notify({type:"positive",message:"Requires canning updated successfully",icon:"check"}),await $(),await O()}catch(e){o.notify({type:"negative",message:"Failed to update requires canning",caption:e.response?.data?.message||e.message})}},Tt=()=>{const a=new Date(W.value);a.setDate(a.getDate()-30),W.value=a},Bt=()=>{const a=new Date(W.value);a.setDate(a.getDate()+30),W.value=a},Ct=()=>{W.value=new Date},It=a=>{switch(a){case 5:return"red";case 4:return"orange";case 3:return"amber";case 2:return"blue";case 1:return"grey";default:return"grey"}},Ue=async()=>{try{ie.value=await je.getAll()}catch(a){console.error("Failed to load canning days:",a)}},$t=a=>ie.value.includes(a),Vt=async()=>{if(J.value){me.value=!0;try{await je.create(J.value),await Ue(),J.value=null,o.notify({type:"positive",message:"Canning day added",icon:"event"})}catch(a){o.notify({type:"negative",message:"Failed to add canning day",caption:a.response?.data?.message||a.message})}finally{me.value=!1}}},Ft=async a=>{try{await je.delete(a),await Ue(),o.notify({type:"positive",message:"Canning day removed",icon:"event_busy"})}catch(t){o.notify({type:"negative",message:"Failed to remove canning day",caption:t.response?.data?.message||t.message})}},Mt=a=>new Date(a).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),Lt=a=>!a||a.length===0?"None":a.map(t=>`Day ${t}`).join(", ");return na(async()=>{await Promise.all([H(),$(),Ue()]),await O()}),(a,t)=>(c(),j(ga,{class:"schedule-page"},{default:u(()=>[l("div",ha,[l("div",ba,[t[25]||(t[25]=l("div",{class:"text-h5 q-mb-md"},"Create Beer",-1)),I.value?(c(),f("div",ka,[i(ot,{color:"primary",size:"md"})])):(c(),f("div",wa,[i(He,{modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),options:b.value,"option-label":"beer_name","option-value":"beer_template_id",label:"Select Beer Template",outlined:"",disable:b.value.length===0},{"no-option":u(()=>[i(We,null,{default:u(()=>[i(X,{class:"text-grey"},{default:u(()=>[...t[9]||(t[9]=[_(" No templates available ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","disable"]),v.value?(c(),j(Ie,{key:0,flat:"",bordered:"",class:"q-mt-md"},{default:u(()=>[i(we,null,{default:u(()=>[l("div",Da,y(v.value.beer_name),1),i(pe,{class:"q-my-sm"}),l("div",xa,[l("div",null,[t[10]||(t[10]=l("strong",null,"Volume:",-1)),_(" "+y(v.value.volume_hl)+" hl",1)]),l("div",null,[t[11]||(t[11]=l("strong",null,"Maturation:",-1)),_(" "+y(v.value.min_maturation_days)+" days",1)])]),i(pe,{class:"q-my-sm"}),i(K,{ref_key:"batchIdInput",ref:E,modelValue:D.value,"onUpdate:modelValue":t[1]||(t[1]=e=>D.value=e),label:"Batch ID *",outlined:"",dense:"",class:"q-mt-sm",rules:[e=>!!e||"Batch ID is required"]},null,8,["modelValue","rules"]),i(K,{ref_key:"minFermentationDaysInput",ref:F,modelValue:w.value,"onUpdate:modelValue":t[2]||(t[2]=e=>w.value=e),modelModifiers:{number:!0},label:"Min Fermentation Days *",type:"number",outlined:"",dense:"",class:"q-mt-sm",rules:[e=>e!==null&&e!==""&&e!==void 0||"Min fermentation days is required",e=>e>=0||"Must be 0 or greater"]},null,8,["modelValue","rules"]),i(K,{ref_key:"minMaturationDaysInput",ref:z,modelValue:x.value,"onUpdate:modelValue":t[3]||(t[3]=e=>x.value=e),modelModifiers:{number:!0},label:"Min Maturation Days *",type:"number",outlined:"",dense:"",class:"q-mt-sm",rules:[e=>e!==null&&e!==""&&e!==void 0||"Min maturation days is required",e=>e>=0||"Must be 0 or greater"]},null,8,["modelValue","rules"]),i(He,{ref_key:"priorityInput",ref:ue,modelValue:S.value,"onUpdate:modelValue":t[4]||(t[4]=e=>S.value=e),options:[1,2,3],label:"Priority *",outlined:"",dense:"",class:"q-mt-sm",rules:[e=>e!=null||"Priority is required"]},null,8,["modelValue","rules"]),i(K,{ref_key:"targetStartDateInput",ref:ce,modelValue:C.value,"onUpdate:modelValue":t[5]||(t[5]=e=>C.value=e),label:"Target Start Date",outlined:"",dense:"",type:"date",class:"q-mt-sm"},null,8,["modelValue"]),i(K,{ref_key:"targetDateInput",ref:g,modelValue:U.value,"onUpdate:modelValue":t[6]||(t[6]=e=>U.value=e),label:"Target Completion Date",outlined:"",dense:"",type:"date",class:"q-mt-sm"},null,8,["modelValue"]),i(ae,{color:"primary",icon:"add",label:"Create Beer",class:"full-width q-mt-md",disable:!D.value||w.value===null||x.value===null||S.value===null||M.value,loading:M.value,onClick:Pe},null,8,["disable","loading"])]),_:1})]),_:1})):B("",!0),i(pe,{class:"q-my-md"}),t[24]||(t[24]=l("div",{class:"text-h6 q-mb-md"},"Canning Days",-1)),l("div",Sa,[i(K,{modelValue:J.value,"onUpdate:modelValue":t[7]||(t[7]=e=>J.value=e),type:"date",label:"Add Canning Day",outlined:"",dense:"",class:"col"},null,8,["modelValue"]),i(ae,{color:"primary",icon:"add",disable:!J.value||me.value,loading:me.value,onClick:Vt},{default:u(()=>[i(Oe,null,{default:u(()=>[...t[12]||(t[12]=[_("Add Canning Day",-1)])]),_:1})]),_:1},8,["disable","loading"])]),ie.value.length>0?(c(),f("div",qa,[(c(!0),f(Y,null,se(ie.value,e=>(c(),j(ca,{key:e,removable:"",color:"red","text-color":"white",onRemove:n=>Ft(e)},{default:u(()=>[_(y(Mt(e)),1)]),_:2},1032,["onRemove"]))),128))])):(c(),f("div",Ta," No canning days scheduled ")),i(pe,{class:"q-my-md"}),l("div",Ba,[t[13]||(t[13]=l("div",{class:"text-h6"},"Batches",-1)),i(ae,{flat:"",dense:"",round:"",icon:"calendar_today",size:"sm",color:"primary",loading:fe.value,disable:!he.value,onClick:O},{default:u(()=>[i(Oe,null,{default:u(()=>[_(y(he.value?"Schedule Beers":"No beers to schedule"),1)]),_:1})]),_:1},8,["loading","disable"])]),N.value?(c(),f("div",Ca,[i(ot,{color:"primary",size:"md"})])):Z.value.length>0?(c(),j(it,{key:4},{default:u(()=>[(c(!0),f(Y,null,se(Z.value,e=>(c(),j(dt,{key:e.beer_id,"expand-separator":"",class:Ve(["color-indicator",{"beer-locked":Te(e.beer_id)}]),style:$e(vt(e.beer_id))},{header:u(()=>[i(X,null,{default:u(()=>[i(de,null,{default:u(()=>[_(y(e.name),1)]),_:2},1024),i(de,{caption:""},{default:u(()=>[_(y(e.batch_id),1)]),_:2},1024)]),_:2},1024),i(X,{side:""},{default:u(()=>[l("div",Ia,[Te(e.beer_id)?(c(),j(G,{key:0,name:"lock",size:"xs",color:"grey-7"})):B("",!0),i(rt,{color:It(e.priority)},{default:u(()=>[_(" P"+y(e.priority),1)]),_:2},1032,["color"])])]),_:2},1024)]),default:u(()=>[i(Ie,{flat:""},{default:u(()=>[i(we,{class:"q-pt-none"},{default:u(()=>[l("div",$a,[t[15]||(t[15]=l("div",{class:"text-subtitle2"},"Beer Details",-1)),i(ae,{flat:"",dense:"",round:"",icon:"delete",color:"negative",size:"sm",onClick:n=>ht(e)},{default:u(()=>[i(Oe,null,{default:u(()=>[...t[14]||(t[14]=[_("Delete Beer",-1)])]),_:1})]),_:1},8,["onClick"])]),l("div",Va,[l("div",Fa,[t[16]||(t[16]=l("span",{class:"detail-label"},"Batch ID:",-1)),l("span",null,y(e.batch_id),1)]),l("div",Ma,[t[17]||(t[17]=l("span",{class:"detail-label"},"Volume:",-1)),i(K,{"model-value":e.volume_hl,type:"number",suffix:"hl",dense:"",outlined:"",style:{"max-width":"100px"},rules:[n=>n>0||"Must be greater than 0"],"onUpdate:modelValue":n=>kt(e,n)},null,8,["model-value","rules","onUpdate:modelValue"])]),l("div",La,[t[18]||(t[18]=l("span",{class:"detail-label"},"Priority:",-1)),i(He,{"model-value":e.priority,options:[1,2,3],dense:"",outlined:"",style:{"max-width":"80px"},"onUpdate:modelValue":n=>wt(e,n)},null,8,["model-value","onUpdate:modelValue"])]),l("div",Aa,[t[19]||(t[19]=l("span",{class:"detail-label"},"Min Fermentation:",-1)),i(K,{"model-value":e.min_fermentation_days,type:"number",suffix:"days",dense:"",outlined:"",style:{"max-width":"120px"},rules:[n=>n>=0||"Must be 0 or greater"],onChange:n=>Dt(e,n.target.value)},null,8,["model-value","rules","onChange"])]),l("div",Na,[t[20]||(t[20]=l("span",{class:"detail-label"},"Target Start:",-1)),i(K,{"model-value":e.target_start_date||"",type:"date",dense:"",outlined:"",style:{"max-width":"150px"},"onUpdate:modelValue":n=>xt(e,n)},null,8,["model-value","onUpdate:modelValue"])]),l("div",Pa,[t[21]||(t[21]=l("span",{class:"detail-label"},"Target Completion:",-1)),i(K,{"model-value":e.target_completion_date||"",type:"date",dense:"",outlined:"",style:{"max-width":"150px"},"onUpdate:modelValue":n=>St(e,n)},null,8,["model-value","onUpdate:modelValue"])]),l("div",Qa,[t[22]||(t[22]=l("span",{class:"detail-label"},"Requires Canning:",-1)),i(la,{"model-value":e.requires_canning||!1,dense:"","onUpdate:modelValue":n=>qt(e,n)},null,8,["model-value","onUpdate:modelValue"])])]),qe(e.beer_id).length>0?(c(),f("div",Ua,[l("div",Ea,[t[23]||(t[23]=l("div",{class:"text-subtitle2"},"Scheduled Tasks",-1)),i(oa,{"model-value":Te(e.beer_id),label:"Pin All",dense:"",size:"sm","onUpdate:modelValue":n=>ft(e,n)},null,8,["model-value","onUpdate:modelValue"])]),(c(!0),f(Y,null,se(qe(e.beer_id),n=>(c(),f("div",{key:`${e.beer_id}-${n.task_type}`,class:"task-row"},[l("span",Ha,y(n.task_type),1),n.locked?(c(),j(G,{key:0,name:"push_pin",size:"xs",color:"primary"})):B("",!0)]))),128))])):B("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","style"]))),128))]),_:1})):(c(),f("div",Oa," No beers scheduled yet "))]))]),l("div",Ra,[l("div",ja,[t[26]||(t[26]=l("div",{class:"text-h4"},"Schedule",-1)),l("div",za,[i(ae,{flat:"",dense:"",round:"",icon:"chevron_left",onClick:Tt}),l("div",Wa,y(Ne.value),1),i(ae,{flat:"",dense:"",round:"",icon:"chevron_right",onClick:Bt}),i(ae,{flat:"",label:"Today",onClick:Ct})])]),l("div",Ka,[l("div",Ya,[t[27]||(t[27]=l("div",{class:"schedule-header"},"Date",-1)),t[28]||(t[28]=l("div",{class:"schedule-header"},"Brewhouse",-1)),t[29]||(t[29]=l("div",{class:"schedule-header"},[l("div",null,"F6"),l("div",{class:"volume-label"},"20hl")],-1)),t[30]||(t[30]=l("div",{class:"schedule-header"},[l("div",null,"F5"),l("div",{class:"volume-label"},"20hl")],-1)),t[31]||(t[31]=l("div",{class:"schedule-header"},[l("div",null,"F4"),l("div",{class:"volume-label"},"20hl")],-1)),t[32]||(t[32]=l("div",{class:"schedule-header"},[l("div",null,"F3"),l("div",{class:"volume-label"},"20hl")],-1)),t[33]||(t[33]=l("div",{class:"schedule-header"},[l("div",null,"F2"),l("div",{class:"volume-label"},"10hl")],-1)),t[34]||(t[34]=l("div",{class:"schedule-header"},[l("div",null,"F1"),l("div",{class:"volume-label"},"10hl")],-1)),t[35]||(t[35]=l("div",{class:"schedule-header"},[l("div",null,"B1"),l("div",{class:"volume-label"},"10hl")],-1)),t[36]||(t[36]=l("div",{class:"schedule-header"},[l("div",null,"B2"),l("div",{class:"volume-label"},"20hl")],-1)),(c(!0),f(Y,null,se(xe.value,e=>(c(),f(Y,{key:e.date},[l("div",{class:Ve(["schedule-cell date-cell",{today:e.isToday,weekend:e.isWeekend,holiday:e.isHoliday}])},[l("div",Ga,y(e.label),1)],2),l("div",{class:Ve(["schedule-cell tank-cell",Je(e,"Brewhouse")]),style:$e(Xe(e,"Brewhouse")),onClick:n=>q(e.date,"Brewhouse").length>0?et(n,q(e.date,"Brewhouse")[0]):null},[q(e.date,"Brewhouse").length>0&&Ze(e.date,q(e.date,"Brewhouse")[0])?(c(),f("div",Za,[l("div",Ja,[_(y(q(e.date,"Brewhouse")[0].beer_name)+" ",1),q(e.date,"Brewhouse")[0].batch_id?(c(),f("span",es,y(q(e.date,"Brewhouse")[0].batch_id),1)):B("",!0)]),l("div",ts,y(q(e.date,"Brewhouse")[0].task_type),1)])):B("",!0)],14,Xa),(c(),f(Y,null,se(Ae,n=>l("div",{key:`${e.date}-${n}`,class:Ve(["schedule-cell tank-cell",Je(e,n)]),style:$e(Xe(e,n)),onClick:r=>q(e.date,n).length>0?et(r,q(e.date,n)[0]):null},[q(e.date,n).length>0&&Ze(e.date,q(e.date,n)[0])?(c(),f("div",ss,[l("div",ns,[_(y(q(e.date,n)[0].beer_name)+" ",1),q(e.date,n)[0].batch_id?(c(),f("span",ls,y(q(e.date,n)[0].batch_id),1)):B("",!0)]),l("div",os,y(q(e.date,n)[0].task_type),1)])):B("",!0)],14,as)),64))],64))),128))]),(c(!0),f(Y,null,se(xe.value,(e,n)=>Le((c(),f("div",{key:"canning-"+e.date,class:"canning-day-overlay",style:$e({top:`calc(${n} * 36.38px + 57px)`})},null,4)),[[yt,$t(e.date)]])),128))])])]),i(ia,{modelValue:_e.value,"onUpdate:modelValue":t[8]||(t[8]=e=>_e.value=e),persistent:""},{default:u(()=>[i(Ie,{style:{"min-width":"500px","max-width":"700px"}},{default:u(()=>[i(we,{class:"row items-center q-pb-none"},{default:u(()=>[l("div",is,[i(G,{name:"error",class:"q-mr-sm"}),t[37]||(t[37]=_(" Scheduling Failed ",-1))]),i(ma),Le(i(ae,{icon:"close",flat:"",round:"",dense:""},null,512),[[ct]])]),_:1}),L.value?(c(),j(we,{key:0},{default:u(()=>[l("div",rs,y(L.value.message),1),L.value.diagnostic?.warnings?.length>0?(c(),f("div",ds,[l("div",us,[i(G,{name:"warning",color:"warning",class:"q-mr-xs"}),t[38]||(t[38]=_(" Warnings ",-1))]),i(it,{dense:"",bordered:"",separator:"",class:"rounded-borders"},{default:u(()=>[(c(!0),f(Y,null,se(L.value.diagnostic.warnings,(e,n)=>(c(),j(We,{key:n},{default:u(()=>[i(X,null,{default:u(()=>[i(de,{class:"text-body2"},{default:u(()=>[_(y(e),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):B("",!0),L.value.diagnostic?.canning?(c(),f("div",cs,[l("div",ms,[i(G,{name:"inventory_2",color:"primary",class:"q-mr-xs"}),t[39]||(t[39]=_(" Canning Constraints ",-1))]),l("div",gs,[l("div",null,[t[40]||(t[40]=l("strong",null,"Available canning days:",-1)),_(" "+y(Lt(L.value.diagnostic.canning.available_days)),1)]),l("div",null,[t[41]||(t[41]=l("strong",null,"Beers requiring canning:",-1)),_(" "+y(L.value.diagnostic.canning.beers_requiring_canning),1)])])])):B("",!0),L.value.diagnostic?.beer_diagnostics?.length>0?(c(),f("div",ys,[l("div",vs,[i(G,{name:"sports_bar",color:"amber",class:"q-mr-xs"}),t[42]||(t[42]=_(" Beer Details ",-1))]),(c(!0),f(Y,null,se(L.value.diagnostic.beer_diagnostics,e=>(c(),j(dt,{key:e.id,dense:"","expand-separator":"","header-class":e.warnings?.length>0?"text-negative":""},{header:u(()=>[i(X,{avatar:""},{default:u(()=>[i(G,{name:e.warnings?.length>0?"error":"check_circle",color:e.warnings?.length>0?"negative":"positive",size:"sm"},null,8,["name","color"])]),_:2},1024),i(X,null,{default:u(()=>[i(de,null,{default:u(()=>[_(y(e.name),1)]),_:2},1024),i(de,{caption:""},{default:u(()=>[_(y(e.volume_hl)+" hl",1)]),_:2},1024)]),_:2},1024),e.warnings?.length>0?(c(),j(X,{key:0,side:""},{default:u(()=>[i(rt,{color:"negative"},{default:u(()=>[_(y(e.warnings.length)+" warning(s)",1)]),_:2},1024)]),_:2},1024)):B("",!0)]),default:u(()=>[i(Ie,{flat:""},{default:u(()=>[i(we,{class:"q-pt-none"},{default:u(()=>[e.warnings?.length>0?(c(),f("div",ps,[(c(!0),f(Y,null,se(e.warnings,(n,r)=>(c(),f("div",{key:r,class:"text-negative text-body2 q-mb-xs"},[i(G,{name:"warning",size:"xs",class:"q-mr-xs"}),_(" "+y(n),1)]))),128))])):B("",!0),l("div",fs,[l("div",_s,[l("div",hs,[t[43]||(t[43]=l("span",{class:"text-grey-7"},"Brew days:",-1)),_(" "+y(e.brew_days),1)]),l("div",bs,[t[44]||(t[44]=l("span",{class:"text-grey-7"},"Min fermentation:",-1)),_(" "+y(e.min_fermentation_days)+" days ",1)]),l("div",ks,[t[45]||(t[45]=l("span",{class:"text-grey-7"},"Min maturation:",-1)),_(" "+y(e.min_maturation_days)+" days ",1)]),l("div",ws,[t[46]||(t[46]=l("span",{class:"text-grey-7"},"Min to completion:",-1)),_(" "+y(e.min_days_to_completion)+" days ",1)]),l("div",Ds,[t[47]||(t[47]=l("span",{class:"text-grey-7"},"Requires canning:",-1)),_(" "+y(e.requires_canning?"Yes":"No"),1)]),e.target_completion_day!==null?(c(),f("div",xs,[t[48]||(t[48]=l("span",{class:"text-grey-7"},"Target completion:",-1)),_(" Day "+y(e.target_completion_day),1)])):B("",!0),e.earliest_feasible_canning_day!==null?(c(),f("div",Ss,[t[49]||(t[49]=l("span",{class:"text-grey-7"},"Earliest canning:",-1)),_(" Day "+y(e.earliest_feasible_canning_day),1)])):B("",!0)])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["header-class"]))),128))])):B("",!0),l("div",qs," Solver status: "+y(L.value.diagnostic?.solver_status),1)]),_:1})):B("",!0),i(ra,{align:"right"},{default:u(()=>[Le(i(ae,{flat:"",label:"Close",color:"primary"},null,512),[[ct]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Ms=_a(Ts,[["__scopeId","data-v-84828ec1"]]);export{Ms as default};
