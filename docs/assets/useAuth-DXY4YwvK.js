import{signOut as k,signInWithRedirect as y,getCurrentUser as m}from"./index-C-ZQDb4n.js";import{l as a,r as o,m as n}from"./index-bivHVviI.js";const r=o(null),t=o(!1),s=o(!0);function E(){const c=async()=>{try{if(s.value=!0,(await n()).tokens){const v=await m();r.value=v,t.value=!0}else r.value=null,t.value=!1}catch(e){console.error("Error checking auth state:",e),r.value=null,t.value=!1}finally{s.value=!1}},u=async()=>{try{await y()}catch(e){throw console.error("Error signing in:",e),e}},l=async()=>{try{await k(),r.value=null,t.value=!1}catch(e){throw console.error("Error signing out:",e),e}},i=async()=>{try{return(await n()).tokens?.accessToken?.toString()}catch(e){return console.error("Error getting access token:",e),null}},g=async()=>{try{return(await n()).tokens?.idToken?.toString()}catch(e){return console.error("Error getting ID token:",e),null}},h=a(()=>r.value?.signInDetails?.loginId||null),f=a(()=>r.value?.username||null);return{currentUser:r,isAuthenticated:t,isLoading:s,userEmail:h,username:f,checkAuthState:c,login:u,logout:l,getAccessToken:i,getIdToken:g}}export{E as u};
